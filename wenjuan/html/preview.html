<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>预览页</title>
    <link rel='stylesheet' href='../stylesheets/vendor/bootstrap.css' />
    <link rel='stylesheet' href='../stylesheets/vendor/flat-ui.css' />
    <link rel='stylesheet' href='../stylesheets/vendor/font-awesome.css' />
    <link rel='stylesheet' href='../stylesheets/style.css' />
    <script src='../js/vendor/jquery.min.js'></script>
    <script src='../js/vendor/jquery-ui.min.js'></script>
    <script src='../js/vendor/handlebars-v3.0.0.js'></script>

    <style>
        .fui-star-2-grey {color:grey;}
    </style>
</head>
<body>
<div class="container">
        <ul class="nav navbar-nav">
            <li class="active"><a href="edit.html">编辑</a></li>
            <li class=""><a href="preview">预览</a></li>
        </ul>
</div>
<div class="container">
    <div class="row">
        <form class="rol-sm-12" id="N-base">
            <h1 class="text-center J-pageheader"></h1>
            <p class="J-pagedes"></p>
        </form>
        <button class="btn btn-primary pull-right J-pull">
            提交
        </button>
    </div>
</div>
<script type="text/html" id="N-radio">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <label class="radio" for="radio{{index}}">
            <input type="radio" name="radio{{id}}" value={{index}} id="radio{{index}}" data-toggle="radio" class="custom-radio"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
            {{name}}
        </label>
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-checkbox">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <label class="checkbox" for="checkbox{{index}}">
            <input type="checkbox" name="checkbox{{id}}" value={{index}} id="checkbox{{index}}" data-toggle="checkbox" class="custom-checkbox"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
            {{name}}
        </label>
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-img-radio">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <div class="img-area">
            <img src="../images/test/icon_tel.png" width=140 height=140/>
            <label class="radio" for="radio{{index}}">
                <input type="radio" name="img-radio{{id}}" value={{index}} id="radio{{index}}" data-toggle="radio" class="custom-radio"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
                {{name}}
            </label>
        </div>
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-img-checkbox">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <div class="img-area">
            <img src="../images/test/icon_tel.png" width=140 height=140/>
            <label class="checkbox" for="checkbox{{index}}">
                <input type="checkbox" name="img-checkbox{{id}}" value={{index}} id="checkbox{{index}}" data-toggle="checkbox" class="custom-checkbox"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
                {{name}}
            </label>
        </div>

        {{/each}}
    </div>
</script>
<script type="text/html" id="N-single-input">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <input type="text" name="single-input{{id}}" id="input{{index}}" /> 
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-multi-input">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <label class="checkbox" for="input{{index}}">
            {{name}}
        </label>
        <input type="text" name="multi-input{{id}}" /> 
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-textarea">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <textarea name="textarea{{id}}"></textarea> 
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-score">
    <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        {{#each list}}
        <div class="score-area">
            <span class="fui-star-2" data-type="1"></span>
            <span class="fui-star-2" data-type="2"></span>
            <span class="fui-star-2" data-type="3"></span>
            <span class="fui-star-2" data-type="4"></span>
            <span class="fui-star-2" data-type="5"></span>
        </div>
        <div><input type="aee" name="score{{id}}" value='5' disabled='true'/>分</div>
        {{/each}}
    </div>
</script>
<script type="text/html" id="N-matrix-input">
     <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>

        <table class="table table-bordered">
            <thead>
                <tr>
                    <th></th>
                    {{#each header}}
                        <th>{{name}}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
            {{#each list}}
            <tr>
                <td>{{name}}</td>
                {{#each sublist}}
                <td>
                    <input type="text" name="martrix-input{{id}}{{id2}}{{index}}" />
                </td>
                {{/each}}
            </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</script>
<script type="text/html" id="N-matrix-radio">
     <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th></th>
                    {{#each header}}
                        <th>{{name}}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
            {{#each list}}
            <tr>
                <td>{{name}}</td>
                {{#each sublist}}
                <td>
                    <label class="radio" for="radio{{index}}">
                        <input type="radio" name="martrix-radio{{id}}{{id2}}" value={{index}} data-toggle="radio" class="custom-radio"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
                        {{name}}
                    </label>
                </td>
                {{/each}}
            </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</script>
<script type="text/html" id="N-matrix-checkbox">
     <div id="question{{id}}" class="clearfix">
        <h4>{{des}}{{#if must}}<b class="pull-right">必答</b>{{/if}}</h4>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th></th>
                    {{#each header}}
                        <th>{{name}}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
            {{#each list}}
            <tr>
                <td>{{name}}</td>
                {{#each sublist}}
                <td>
                    <label class="checkbox" for="checkbox{{index}}">
                        <input type="checkbox" name="martrix-checkbox{{id}}{{id2}}" value={{index}} data-toggle="checkbox" class="custom-checkbox"><span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>
                        {{name}}
                    </label>
                </td>
                {{/each}}
            </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</script>



<script>
$(function() {
    var data = [
        {
            id: '82828282800',
            type: 'radio',
            des: '单选题',
            name: 'cccc',
            must: true,
            list: [
                {
                    id: '82828282800',
                    index: 0,
                    name: '测试1'
                },
                {
                    id: '82828282800',
                    index: 1,
                    name: '测试2'
                }
            ]
        },
        {
            id: '82828282801',
            type: 'checkbox',
            des: '多选题',
            name: 'cccc',
            list: [
                {
                    id: '82828282801',
                    index: 2,
                    name: '测试1'
                },
                {
                    id: '82828282801',
                    index: 3,
                    name: '测试2'
                }
            ]
        },
        {
            id: '82828282802',
            type: 'img-radio',
            des: '图片单选题',
            name: 'cccc',
            list: [
                {
                    id: '82828282802',
                    index: 4,
                    name: '测试1'
                },
                {
                    id: '82828282802',
                    index: 5,
                    name: '测试2'
                }
            ]
        },
        {
            id: '82828282803',
            type: 'img-checkbox',
            des: '图片多选题',
            name: 'cccc',
            must: true,
            list: [
                {
                    id: '82828282803',
                    index: 6,
                    name: '测试1'
                },
                {
                    id: '82828282803',
                    index: 7,
                    name: '测试2'
                }
            ]
        },
        {
            id: '82828282804',
            type: 'single-input',
            des: '单行填空题',
            name: 'cccc',
            list: [
                {
                    id: '82828282804',
                    index: 8,
                    name: '测试1'
                }
            ]
        },
        {
            id: '82828282805',
            type: 'multi-input',
            des: '多项填空题',
            name: 'cccc',
            list: [
                {
                    id: '82828282805',
                    id2: '112121212',
                    index: 9,
                    name: '测试1'
                },
                {
                    id: '82828282805',
                    id2: '11212122',
                    index: 10,
                    name: '测试2'
                }
            ]
        },
        {
            id: '82828282806',
            type: 'textarea',
            des: '多行填空题',
            name: 'cccc',
            list: [
                {
                    id: '82828282806',
                    index: 11,
                    name: '测试1'
                }
            ]
        },
        {
            id: '82828282807',
            type: 'score',
            des: '打分题',
            name: 'cccc',
            must: true,
            list: [
                {
                    id: '82828282807',
                    index: 13,
                    name: '测试1'
                }
            ]
        },
        {
            id: '82828282808',
            type: 'matrix-radio',
            des: '矩阵单选',
            name: 'cccc',
            header: [
                {
                    name: '抬头1'
                },
                {
                    name: '抬头2'
                },
                {
                    id: '82828282808',
                    id2: '1212111113',
                    name: '抬头3'
                },
            ],
            list: [
                {
                    index: 17,
                    name: '行1',
                    sublist: [
                        {
                            id: '82828282808',
                            id2: '1212111112',
                            index: 18,
                            name: '测试1'
                        },
                        {
                            id: '82828282808',
                            id2: '1212111112',
                            index: 19,
                            name: '测试2'
                        },
                        {
                            id: '82828282808',
                            id2: '1212111112',
                            index: 20,
                            name: '测试3'
                        },
                    ]
                },
                {
                    index: 17,
                    name: '行2',
                    sublist: [
                        {
                            id: '82828282808',
                            id2: '1212111113',
                            index: 21,
                            name: '测试1'
                        },
                        {
                            id: '82828282808',
                            id2: '1212111113',
                            index: 22,
                            name: '测试2'
                        },
                        {
                            id: '82828282808',
                            id2: '1212111114',
                            index: 23,
                            name: '测试3'
                        },
                    ]
                },
            ]
        },
        {
            id: '82828282807',
            type: 'matrix-input',
            des: '矩阵输入框',
            name: 'cccc',
            header: [
                {
                    name: '抬头1'
                },
                {
                    name: '抬头2'
                },
                {
                    name: '抬头3'
                },
            ],
            list: [
                {
                    index: 13,
                    name: '行1',
                    sublist: [
                        {
                            id: '82828282807',
                            id2: '1212111112',
                            index: 14,
                            name: '测试1'
                        },
                        {
                            id: '82828282807',
                            id2: '1212111112',
                            index: 15,
                            name: '测试2'
                        },
                        {
                            id: '82828282807',
                            id2: '1212111112',
                            index: 16,
                            name: '测试3'
                        },
                    ]
                },
                {
                    index: 13,
                    name: '行2',
                    sublist: [
                        {
                            id: '82828282807',
                            id2: '1212111113',
                            index: 14,
                            name: '测试1'
                        },
                        {
                            id: '82828282807',
                            id2: '1212111113',
                            index: 15,
                            name: '测试2'
                        },
                        {
                            id: '82828282807',
                            id2: '1212111113',
                            index: 16,
                            name: '测试3'
                        },
                    ]
                },
            ]
        },
        {
            id: '82828282809',
            type: 'matrix-checkbox',
            des: '矩阵多选',
            name: 'cccc',
            header: [
                {
                    name: '抬头1'
                },
                {
                    name: '抬头2'
                },
                {
                    name: '抬头3'
                },
            ],
            list: [
                {
                    index: 17,
                    name: '行1',
                    sublist: [
                        {
                            id: '82828282809',
                            id2: '1212111112',
                            index: 18,
                            name: '测试1'
                        },
                        {
                            id: '82828282809',
                            id2: '1212111112',
                            index: 19,
                            name: '测试2'
                        },
                        {
                            id: '82828282809',
                            id2: '1212111112',
                            index: 20,
                            name: '测试3'
                        },
                    ]
                },
                {
                    index: 17,
                    name: '行2',
                    sublist: [
                        {
                            id: '82828282809',
                            id2: '1212111112',
                            index: 21,
                            name: '测试1'
                        },
                        {
                            id: '82828282809',
                            id2: '1212111113',
                            index: 22,
                            name: '测试2'
                        },
                        {
                            id: '82828282809',
                            id2: '1212111113',
                            index: 23,
                            name: '测试3'
                        },
                    ]
                },
            ]
        },



    ];

    /*页头*/
    $('.J-pageheader').html('保险调查问卷');
    $('.J-pagedes').html('本问卷调查是只为个人做学术调查提供数据及参考资料，望通过此问卷调查了解城镇居民参加医疗保险意愿及经济承受能力等相关情况。谢谢您的配合！');



    /*生成内容*/
    $.each(data, function(index, value) {
        var source = $('#N-' + value.type).html();
        var template = Handlebars.compile(source);
        var dom = $(template(value));
        $('#N-base').append(dom);
    });

    $('.J-pull').click(function(){
        console.log($('#N-base').serialize());
    });

    $(".score-area").delegate(".fui-star-2","click",function(){
        $(this).nextAll().addClass("fui-star-2-grey");
        $(this).removeClass("fui-star-2-grey");
        $(this).prevAll().removeClass("fui-star-2-grey");
    });




    
});
</script>
</body>
</html>
